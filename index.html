<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>手機桌布免費贈送計畫</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    /* 重置並設定全域 */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%;
      height: 100%;
      font-family: 'Noto Sans TC', sans-serif;
      background-color: #66b48c; /* 4號圖片對應色 */
      background-image: url('images/background/4.jpg');
      background-size: auto 100%;
      background-position: center center;
      background-repeat: no-repeat;
      overflow-x: hidden;
      overflow-y: auto;
    }
    button { cursor: pointer; }

    /* 步驟1：封面 & 轉場圖層 */
    #step1 {
      position: relative;
      width: 100%;
      height: 100vh;
    }
    .content {
      position: relative;
      z-index: 2;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;/* 從頂端往下排，不要再置中 */
      padding-top: 40pt;          /* 從最上方開始往下 80pt */
      text-align: center;
      color: #fff;
      /* padding: 0 20px; */
    }
    .cover-text.top {
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    .cover-text.title {
      font-size: 2rem;
      margin-bottom: 10rem;
    }
    .vertical-text {
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: 3rem;
    }
    .button {
      padding: 0.8rem 2rem;
      font-size: 1rem;
      border: none;
      border-radius: 0.5rem;
      background-color: rgba(0,0,0,0.4);
      color: #fff;
      transition: background-color 0.3s;
    }
    .button:hover {
      background-color: rgba(0,0,0,0.6);
    }

    /* 步驟2：六選一 */
    #step2 {
      display: none;
      min-height: 100vh;
      width: 100%;
      padding: 20px;
      background: #0A2E66;
      color: #fff;
      text-align: center;
    }
    /* 新增：整個內容 flex 三段式排版 */
    .step2-container {
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      /* 三段式上下各自高度：
         header 固定高、images 區用可伸縮、footer 固定高 */
      justify-content: space-between;
      padding: 2vh 2vw;
      box-sizing: border-box;
    }
    /* header */
    .step2-container .header-box {
      font-size: 2.2vh;
      padding: 1vh 2vw;
      background: #82A7FE;
      border-radius: 8px;
    }

    /* 圖片區：兩排三欄，高度自動填滿剩餘 */
    .images-container2 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 1.5vh 1.5vw;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }

    .images-container2 .image-option {
      width: 100%;
      height: 100%;
      border: 4px solid transparent;
      border-radius: 8px;
      overflow: hidden;
      transition: transform .3s;
      display: flex;
      justify-content: center;
      align-items: center;
      aspect-ratio: 9/16;      /* 可改成你圖片的長寬比 */
    }

    .images-container2 .image-option.selected {
      border-color: red;
    }

    .images-container2 .image-option img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }

    /* footer */
    .step2-container .footer {
      width: 100%;
      max-width: 800px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1vh;
    }

    .step2-container .footer .message-box {
      font-size: 2vh;
    }

    .step2-container .footer .button {
      padding: 1vh 2vw;
      font-size: 2vh;
      background: #82A7FE;
      border-radius: 6px;
    }


    /* 步驟3：下載（原封不動的 CSS） */
    #step3 {
      display: none;
      min-height: 100vh;
      width: 100%;
      padding: 20px;
      background: #0A2E66;
      color: #333;
      text-align: center;
    }
    #step3 h2 {
      font-size: 24px;
      margin-bottom: 20px;
      color: #fff
    }
    #step3 .button {
      background: #82A7FE;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 12px 24px;
      font-size: 18px;
      margin: 10px 0;
      transition: transform .3s;
    }
    /* #step3 .button:hover { transform: scale(1.05); } */
    #step3 img { max-width:40%; border-radius:8px; }

    /* 響應式 */
    @media(max-width:480px) {
      .cover-text.title { font-size: 20px; }
      .cover-text.top { font-size: 10px; }
      .vertical-text { font-size: 14px; }
      #step2 .header-box { font-size: 16px; padding: 8px 16px; }
      #step2 .button, #step3 .button { font-size: 14px; padding: 8px 16px; }
      /*.images-container2 { grid-template-columns: repeat(2,1fr); }
      .images-container2 .image-option { width: 40vw; }*/
    }
  </style>
</head>
<body>
  <!-- 步驟1：封面 -->
  <div id="step1">
    <div class="content">
      <div class="cover-text top">
        國立中央大學資工系計算式智慧暨人機互動實驗室製作
      </div>
      <div class="cover-text title">
        手機桌布免費贈送計畫
      </div>
      <div class="vertical-text">
        感謝您蒞臨我的油畫創作展，<br><br>
        特別獻上以油畫元素設計的手機桌布，<br><br>
        願它為您的螢幕增添色彩與靈感。
      </div>
      <button class="button" onclick="nextStep()">Enter</button>
    </div>
  </div>

  <!-- 步驟2：六選一 -->
<div id="step2">
<div class="step2-container">
    <div class="header-box">敬請選擇您喜歡的桌布 (六選一)</div>
    <br>
    <div class="images-container2">
    <div class="image-option" onclick="selectImage(1)"><img src="images/1.jpg" alt="桌布1"></div>
    <div class="image-option" onclick="selectImage(2)"><img src="images/2.jpg" alt="桌布2"></div>
    <div class="image-option" onclick="selectImage(3)"><img src="images/3.jpg" alt="桌布3"></div>
    <div class="image-option" onclick="selectImage(4)"><img src="images/4.jpg" alt="桌布4"></div>
    <div class="image-option" onclick="selectImage(5)"><img src="images/5.jpg" alt="桌布5"></div>
    <div class="image-option" onclick="selectImage(6)"><img src="images/6.jpg" alt="桌布6"></div>
    </div>
    <br>
    <div class="footer">
    <div class="message-box" id="msg">您選擇為紅框的圖，請按確認</div>
    <button class="button" onclick="confirmSelection()">確認</button>
    </div>
</div>
</div>


  <!-- 步驟3：下載 -->
  <div id="step3">
    <h2>您的專屬桌布</h2>
    <img id="resultImg" src="" alt="選擇的桌布">
    <div style="margin-top:20px;">
        <button class="button" onclick="downloadImage()">下載桌布</button>
        <button class="button" style="margin-left:12px;" onclick="restart()">重新選擇</button>
    </div>
  </div>

  <script>
    // 前往 Step2：隱藏 Step1、顯示 Step2
    function nextStep() {
      document.getElementById('step1').style.display = 'none';
      document.getElementById('step2').style.display = 'block';
    }

    // 步驟2 選圖邏輯
    let selected = null;
    function selectImage(id) {
      selected = id;
      document.querySelectorAll('.images-container2 .image-option')
        .forEach(el => el.classList.remove('selected'));
      document.querySelectorAll('.images-container2 .image-option')[id - 1]
        .classList.add('selected');
      document.getElementById('msg').style.display = 'block';
      document.getElementById('step3').querySelector('#resultImg').src = `images/${id}.jpg`;
    }
    function confirmSelection() {
      if (!selected) {
        alert('請先選擇一張圖片！');
        return;
      }
      document.getElementById('step2').style.display = 'none';
      document.getElementById('step3').style.display = 'block';
    }

    // 步驟3 下載 & 重選
    function downloadImage() {
      const link = document.createElement('a');
      link.href = `images/${selected}.jpg`;
      link.download = `桌布_${selected}.jpg`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    function restart() {
      location.reload();
    }
  </script>
</body>
</html>
